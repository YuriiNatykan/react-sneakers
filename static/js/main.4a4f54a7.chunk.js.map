{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.js","components/Info.jsx","components/Drawer/index.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","props","className","to","width","height","src","alt","onClick","onClickCart","Info","title","image","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","log","App","setItems","setFavorites","cartOnened","all","itemsResponse","cartResponse","favoritesResponse","error","fetchData","findItem","find","Number","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4a4f54a7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__1Hdh6\",\"overlayVisible\":\"Drawer_overlayVisible__2zmQI\",\"drawer\":\"Drawer_drawer__3rqQA\",\"items\":\"Drawer_items__cDnqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__glGLV\",\"plus\":\"Card_plus__XyVtY\",\"favorite\":\"Card_favorite__1871R\"};","import React from \"react\";\r\n\r\nconst AppContext = React.createContext({})\r\n\r\nexport default AppContext","import AppContext from \"../context\";\r\nimport React from 'react'\r\n\r\n\r\nexport const useCart = () => {\r\n    const { cartItems, setCartItems } = React.useContext(AppContext);\r\n    const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n    return { cartItems, setCartItems, totalPrice };\r\n}\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nfunction Header(props) {\r\n    //кастомный хук для расчета суммы\r\n    const {totalPrice} = useCart();\r\n\r\n\r\n    \r\n    return (\r\n        <header className=\"d-flex justify-between align-center p-40\">\r\n            <Link to=\"/\">\r\n                <div className=\"d-flex align-center\t\">\r\n                    <img width={50} height={40} src=\"img/logo.png\" alt=\"Logo\" />\r\n                    <div>\r\n                        <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n                        <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <ul className=\"d-flex\">\r\n                <li onClick={props.onClickCart} className=\"mr-30 cu-p\" >\r\n                    <img width={18} height={18} src=\"img/cart.svg\" alt=\"Корзина\" />\r\n                    <span>{totalPrice} грн</span>\r\n                </li>\r\n                <Link to=\"/favorites\">\r\n                    <li className=\"mr-20 cu-p\" >\r\n                        <img width={18} height={18} src=\"img/heart.svg\" alt=\"Закладки\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/orders\">\r\n                <li>\r\n                    <img width={18} height={18} src=\"img/user.svg\" alt=\"Пользователь\" />\r\n                </li>\r\n                </Link>\r\n            </ul>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport AppContext from '../context'\r\n\r\nexport const Info = ({title, image, description}) => {\r\n    const {setCartOpened} = React.useContext(AppContext);\r\n\r\n\r\n    return (\r\n        <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n            <img className=\"mb-20\" width=\"120px\"  src={image} alt=\"Empty cart\" />\r\n            <h2>{title}</h2>\r\n            <p className=\"opacity-6\">{description}</p>\r\n            <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n                <img src=\"img/arrow.svg\" alt=\"Arrow\" />Вернутся назад\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Info from \"../Info\";\r\nimport { useCart } from \"../../hooks/useCart\";\r\n\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, onRemove, items = [], opened }) {\r\n  const {cartItems, setCartItems, totalPrice} = useCart();\r\n \r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      const { data } = await axios.post('https://617820779c328300175f5e2d.mockapi.io/orders', {\r\n        items: cartItems\r\n      });\r\n      setOrderId(data.id)\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://617820779c328300175f5e2d.mockapi.io/cart/' + item.id)\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при создании заказа :(')\r\n    }\r\n    setIsLoading(false);\r\n\r\n  }\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\" d-flex justify-between mb-30\">Корзина\r\n          <img onClick={onClose} className=\"cu-p\" src=\"img/btn-remove.svg\" alt=\"Remove\" />\r\n        </h2>\r\n\r\n        {\r\n          items.length > 0\r\n            ?\r\n            <div className=\"d-flex flex-column flex\">\r\n              <div className=\"items flex\">\r\n                {items.map((obj) => (\r\n                  <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                    <div style={{ backgroundImage: `url(${obj.imageUrl})` }}\r\n                      className=\"cartItemImg\"></div>\r\n\r\n                    <div className=\"mr-20 flex\">\r\n                      <p className=\"mb-5\">{obj.title}</p>\r\n                      <b>{obj.price}</b>\r\n                    </div>\r\n                    <img onClick={() => onRemove(obj.id)} className=\"removeBtn\" src=\"img/btn-remove.svg\" alt=\"Remove\" />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"cartTotalBlock\">\r\n                <ul>\r\n                  <li>\r\n                    <span>Итого:</span>\r\n                    <div></div>\r\n                    <b>{totalPrice} грн</b>\r\n                  </li>\r\n                  <li>\r\n                    <span>Налог 5%:</span>\r\n                    <div></div>\r\n                    <b>{totalPrice*0.05} грн</b>\r\n                  </li>\r\n                </ul>\r\n                <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                  Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\" /></button>\r\n              </div>\r\n            </div>\r\n\r\n            : (\r\n              <Info title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пустая\"}\r\n                description={isOrderComplete\r\n                  ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                  : \"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.\"}\r\n                image={isOrderComplete ? \"img/complete-order.jpg\" : \"img/empty-cart.jpg\"} />\r\n            )}\r\n\r\n\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Drawer;","import React from 'react';\r\nimport ContentLoader from \"react-content-loader\";\r\nimport styles from './Card.module.scss';\r\nimport AppContext from \"../../context\";\r\n\r\n\r\nfunction Card({\r\n    id,\r\n    title,\r\n    imageUrl,\r\n    price,\r\n    onFavorite,\r\n    onPlus,\r\n    favorited = false,\r\n    loading = false\r\n}) {\r\n\r\n    const { isItemAdded } = React.useContext(AppContext);\r\n    const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n    const obj = { id, parentId: id, title, imageUrl, price }\r\n\r\n    const onClickPlus = () => {\r\n        onPlus(obj);\r\n    }\r\n\r\n    const onClickFavorite = () => {\r\n        onFavorite(obj);\r\n        setIsFavorite(!isFavorite);\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className={styles.card}>\r\n            {\r\n                loading ? (<ContentLoader\r\n                    speed={2}\r\n                    width={155}\r\n                    height={250}\r\n                    viewBox=\"0 0 155 265\"\r\n                    backgroundColor=\"#f3f3f3\"\r\n                    foregroundColor=\"#ecebeb\">\r\n                    <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n                    <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n                    <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n                    <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n                    <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n                </ContentLoader>\r\n                ) : (\r\n                    //фрагмент, родительский блок\r\n                    <>\r\n                        {onFavorite && <div className={styles.favorite} onClick={onClickFavorite}>\r\n                            <img src={isFavorite ? \"img/liked.svg\" : \"img/unliked.svg\"} alt=\"Unliked\" />\r\n                        </div>}\r\n                        <img width=\"100%\" height={125} src={imageUrl} alt=\"Sneakers\" />\r\n                        <h5>{title}</h5>\r\n                        <div className=\"d-flex justify-between alight-center\">\r\n                            <div className=\"d-flex flex-column\">\r\n                                <span>Цена:</span>\r\n                                <b>{price} грн</b>\r\n                            </div>\r\n                            {onPlus && <img className={styles.plus} onClick={onClickPlus}\r\n                                src={isItemAdded(id) ? \"img/btn-checked.svg\" : \"img/btn-plus.svg\"} alt=\"Btn\" />\r\n                            }</div>\r\n                    </>\r\n                )\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"../components/Card\";\r\n\r\n\r\nfunction Home({\r\n    items,\r\n    searchValue,\r\n    setSearchValue,\r\n    onChangeSearchInput,\r\n    onAddToFavorite,\r\n    onAddToCart,\r\n    isLoading\r\n}) {\r\n\r\n    const renderItems = () => {\r\n        const filtredItems = items.filter((item) =>\r\n            //поиск и с большой и с маленькой буквы (все в нижнем регистре)\r\n            item.title.toLowerCase().includes(searchValue.toLowerCase())\r\n        );\r\n        return (\r\n            isLoading\r\n                ? [...Array(8)]\r\n                : filtredItems)\r\n            .map((item, index) => (\r\n                <Card\r\n                    key={index}\r\n                    onFavorite={(obj) => onAddToFavorite(obj)}\r\n                    onPlus={(obj) => onAddToCart(obj)}\r\n                    loading={isLoading}\r\n                    {...item}\r\n                />\r\n            ))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center mb-40 justify-between\">\r\n                <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : \"Все кроссовки\"}</h1>\r\n                <div className=\"search-block d-flex\">\r\n                    <img src=\"img/search.svg\" alt=\"Search\" />\r\n                    {searchValue && (\r\n                        <img onClick={() => setSearchValue('')}\r\n                            className=\"clear cu-p\"\r\n                            src=\"img/btn-remove.svg\"\r\n                            alt=\"Clear\"\r\n                        />)}\r\n                    <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n\r\n                {renderItems()}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React from \"react\";\r\nimport Card from \"../components/Card\";\r\nimport AppContext from \"../context\";\r\n\r\nfunction Favorites() {\r\n\r\nconst {favorites, onAddToFavorite} = React.useContext(AppContext);\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center mb-40 justify-between\">\r\n                <h1>Мои закладки</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {favorites.map((item, index) => (\r\n                        <Card\r\n                            key={index}\r\n                            favorited={true}\r\n                            onFavorite={onAddToFavorite}\r\n                            {...item}\r\n                        />\r\n                    ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favorites","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport Card from \"../components/Card\";\r\nimport AppContext from \"../context\";\r\n\r\nfunction Orders() {\r\n    const { onAddToFavorite, onAddToCart } = React.useContext(AppContext)\r\n    const [orders, setOrders] = React.useState([])\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const {data} = await axios.get('https://617820779c328300175f5e2d.mockapi.io/orders')\r\n                //console.log(data.map((obj) => obj.items).flat()); 2 способа, что б сделать массив массивов\r\n                setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n                setIsLoading(false);\r\n            } catch (error) {\r\n                alert('Ошибка при запросе заказов')\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center mb-40 justify-between\">\r\n                <h1>Мои заказы</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                { (\r\n            isLoading\r\n                ? [...Array(8)]\r\n                : orders).map((item, index) => (\r\n                    <Card\r\n                        key={index}\r\n                        loading={isLoading}\r\n                        {...item}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders","import Header from \"./components/Header\";\nimport Drawer from \"./components/Drawer\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Route } from 'react-router-dom'\nimport Home from \"./pages/Home\";\nimport Favorites from \"./pages/Favorites\";\nimport AppContext from \"./context\"\nimport Orders from \"./pages/Orders\";\n\n\nfunction App() {\n  //отслеживание загрузка товаров\n  const [items, setItems] = React.useState([]);\n  //отслеживание товаров в корзине\n  const [cartItems, setCartItems] = React.useState([]);\n  //отслеживание строки поиска\n  const [searchValue, setSearchValue] = React.useState('');\n  //отслеживание товаров в избранном\n  const [favorites, setFavorites] = React.useState([]);\n\n  //отслеживание открытия, закрытия корзины\n  const [cartOnened, setCartOpened] = React.useState(false);\n\n  const [isLoading, setIsLoading] = React.useState(true);\n\n\n  //апи, получение данных (useEffect для отслеживания, что загрузка данных 1 раз)\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [itemsResponse, cartResponse, favoritesResponse] = await Promise.all([\n          axios.get('https://617820779c328300175f5e2d.mockapi.io/items'),\n          axios.get('https://617820779c328300175f5e2d.mockapi.io/cart'),\n          axios.get('https://617820779c328300175f5e2d.mockapi.io/favorites')\n        ])\n        \n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert('Ошибка при запросе данных ;(')\n        console.error(error)\n\n      }\n    }\n    fetchData();\n  }, [])\n\n  //добавление товаров в корзину\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\n      if (findItem) {\n        setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n        await axios.delete(`https://617820779c328300175f5e2d.mockapi.io/cart/${findItem.id}`);\n      } else {\n        setCartItems((prev) => [...prev, obj]);\n        const {data} = await axios.post('https://617820779c328300175f5e2d.mockapi.io/cart', obj);\n        setCartItems((prev) => prev.map(item => {\n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id\n            };\n          }\n          return item;\n        }))\n      }\n    } catch (error) {\n      alert('Ошибка при добавлении в корзину');\n      console.error(error);\n    }\n  };\n  //добавление товаров в избранное\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(`https://617820779c328300175f5e2d.mockapi.io/favorites/${obj.id}`);\n      } else {\n        const { data } = await axios.post('https://617820779c328300175f5e2d.mockapi.io/favorites', obj);//дожидаемся ответа сервера и только потом передаем данные\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить фавориты')\n      console.error(error)\n\n    }\n  };\n\n  const onRemoveItem = (id) => {\n  try {\n    axios.delete(`https://617820779c328300175f5e2d.mockapi.io/cart/${id}`);\n    setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)))\n  } catch (error) {\n    alert('Ошибка при удалении из корзины ')\n    console.error(error)\n\n  } \n  }\n\n  //добавление данных в строку поиска\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  }\n\n  const isItemAdded = (id) => {\n    return cartItems.some(obj => Number(obj.parentId) === Number(id))\n  }\n\n  return (\n    <AppContext.Provider value={{ items, cartItems, favorites, isItemAdded, onAddToFavorite, setCartOpened, setCartItems, onAddToCart }}>\n      <div className=\"wrapper clear\">\n        <Drawer\n          items={cartItems}\n          onClose={() => setCartOpened(false)}\n          onRemove={onRemoveItem}\n          opened={cartOnened} />\n        <Header onClickCart={() => setCartOpened(true)} />\n\n        <Route path=\"\" exact>\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorite={onAddToFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n\n        <Route path=\"favorites\" exact>\n          <Favorites />\n        </Route>\n        <Route path=\"orders\" exact>\n          <Orders />\n        </Route>\n\n      </div>\n    </AppContext.Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\nimport 'macro-css';\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}